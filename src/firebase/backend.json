{
  "entities": {
    "User": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "title": "User",
      "description": "Represents a user authenticated via Google login.",
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the User entity (Firebase Auth UID)."
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "The user's email address."
        },
        "name": {
          "type": "string",
          "description": "The user's display name."
        },
        "imageUrl": {
          "type": "string",
          "format": "uri",
          "description": "URL of the user's profile image."
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp of when the user profile was created."
        }
      },
      "required": [
        "id",
        "email",
        "name"
      ]
    },
    "Question": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "title": "Question",
      "description": "Represents a question submitted by a conference attendee.",
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Question entity (Firestore Document ID)."
        },
        "userId": {
          "type": "string",
          "description": "Reference to the unique identifier of the User who submitted the question."
        },
        "userName": {
          "type": "string",
          "description": "Display name of the user who submitted the question."
        },
        "userImage": {
          "type": "string",
          "format": "uri",
          "description": "Profile image URL of the user who submitted the question."
        },
        "content": {
          "type": "string",
          "description": "The text content of the question."
        },
        "timestamp": {
          "type": "string",
          "format": "date-time",
          "description": "The date and time when the question was submitted."
        }
      },
      "required": [
        "userId",
        "userName",
        "content",
        "timestamp"
      ]
    },
    "AiSummary": {
      "$schema": "http://json-schema.org/draft-07/schema",
      "title": "AiSummary",
      "description": "Represents a summary of Q&A content generated by an AI model for a specific question.",
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the AiSummary entity (e.g., 'latest')."
        },
        "questionId": {
          "type": "string",
          "description": "Reference to the unique identifier of the Question being summarized."
        },
        "summaryText": {
          "type": "string",
          "description": "The AI-generated summary text."
        },
        "generationTimestamp": {
          "type": "string",
          "format": "date-time",
          "description": "The date and time when the summary was generated."
        }
      },
      "required": [
        "questionId",
        "summaryText",
        "generationTimestamp"
      ]
    }
  },
  "auth": {
    "providers": [
      "google.com"
    ],
    "rationales": {
      "providerChoice": "Google Authentication is chosen for secure login as per app requirements."
    }
  },
  "firestore": {
    "collections": {
      "users": {
        "path": "/users/{userId}",
        "schema": { "$ref": "#/entities/User" },
        "description": "Stores user profile information."
      },
      "questions": {
        "path": "/questions/{questionId}",
        "schema": { "$ref": "#/entities/Question" },
        "description": "Stores questions submitted by users.",
        "subcollections": {
          "aiSummary": {
            "path": "/questions/{questionId}/aiSummary/{summaryId}",
            "schema": { "$ref": "#/entities/AiSummary" },
            "description": "Stores AI-generated summaries for each question. Typically, summaryId will be a fixed value like 'latest'."
          }
        }
      }
    }
  }
}
